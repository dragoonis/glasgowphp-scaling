{
	admin 0.0.0.0:2019
	metrics

    frankenphp {
        num_threads 10
        max_threads auto    # Dynamic scaling based on load
        worker {
            file ./public/index.php
            num 8           # Starting workers
        }

        # Memory-based scaling configuration
        php_ini memory_limit 512M
    }
}

{$SERVER_NAME:localhost} {
	root {$SERVER_ROOT:public/}
	encode zstd br gzip


	{$CADDY_SERVER_EXTRA_DIRECTIVES}

	php_server
}
